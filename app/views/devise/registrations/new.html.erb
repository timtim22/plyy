<%= stylesheet_link_tag "animations", "data-turbo-track": "reload" %>
<%= csrf_meta_tags %>

<!-- Signup page with matching design -->
<div id="option1" class="min-h-screen w-full flex flex-col items-center justify-center option1-bg relative overflow-hidden">
  <!-- Abstract background shapes -->
  <div id="shape1" class="shape absolute h-80 w-80 rounded-full bg-amber-400/20"></div>
  <div id="shape3" class="shape absolute h-40 w-40 bg-teal-400/30 rounded-sm"></div>
  <div id="shape4" class="shape absolute h-52 w-52 border-4 border-zinc-400 rounded-full"></div>
  <div id="shape5" class="shape absolute h-64 w-64 rounded-full bg-blue-400/15"></div>
  <div id="shape6" class="shape absolute h-36 w-36 rounded-full bg-purple-400/20"></div>
  <div id="shape7" class="shape absolute h-48 w-48 rounded-full border-2 border-indigo-400/30"></div>
  <div id="shape8" class="shape absolute h-32 w-32 bg-emerald-400/20 rounded-sm"></div>

  <!-- Navbar with back button -->
  <div class="absolute top-4 left-4 z-20">
    <a href="/" class="group relative px-4 py-2 rounded-lg overflow-hidden transition-all duration-300">
      <div class="absolute inset-0 backdrop-blur-sm bg-white/30 border border-white/40 rounded-lg"></div>
      <div class="absolute -inset-0.5 bg-gradient-to-r from-teal-400 to-indigo-400 rounded-lg opacity-0 group-hover:opacity-30 blur-md transition-all"></div>
      <span class="relative text-white font-medium text-sm flex items-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        Back
      </span>
    </a>
  </div>

  <!-- Signup form container -->
  <div class="relative z-10 w-full max-w-md px-6 py-12">
    <div class="group relative p-8 rounded-xl shadow-lg transition-all duration-300 overflow-hidden border border-slate-200">
      <!-- Animated gradient background -->
      <div class="absolute inset-0 bg-gradient-to-r from-teal-400/40 via-white/80 to-amber-400/40 background-animate"></div>
      
      <!-- Backdrop blur and base background -->
      <div class="absolute inset-0 backdrop-blur-sm bg-white/50"></div>
      
      <!-- Form content -->
      <div class="relative">
        <h2 class="text-3xl font-bold text-slate-800 mb-6 text-center">Sign Up</h2>

        <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
          <%= render "devise/shared/error_messages", resource: resource %>

          <div class="mb-4">
            <%= f.label :email, class: "block text-sm font-medium text-slate-700 mb-1" %>
            <%= f.email_field :email, autofocus: true, autocomplete: "email", 
                  class: "w-full px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white/70 backdrop-blur-sm" %>
          </div>

          <div class="mb-4">
            <%= f.label :password, class: "block text-sm font-medium text-slate-700 mb-1" %>
            <% if @minimum_password_length %>
            <span class="text-xs text-slate-500">(<%= @minimum_password_length %> characters minimum)</span>
            <% end %>
            <%= f.password_field :password, autocomplete: "new-password", 
                  class: "w-full px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white/70 backdrop-blur-sm" %>
          </div>

          <div class="mb-6">
            <%= f.label :password_confirmation, class: "block text-sm font-medium text-slate-700 mb-1" %>
            <%= f.password_field :password_confirmation, autocomplete: "new-password", 
                  class: "w-full px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white/70 backdrop-blur-sm" %>
          </div>

          <%= f.button type: "submit", class: "w-full py-2 rounded-lg bg-gradient-to-r from-teal-400 to-indigo-400 text-white font-medium text-center" do %>
            Sign Up
          <% end %>
        <% end %>

        <div class="mt-4 text-center">
          <%- if controller_name != 'sessions' %>
            <%= link_to "Log in", new_session_path(resource_name), class: "text-indigo-600 hover:text-indigo-800 font-medium" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
